{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{logout}from'../services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=_ref=>{let{authenticated,netid}=_ref;const navigate=useNavigate();const[searchQuery,setSearchQuery]=useState('');const[showProfileMenu,setShowProfileMenu]=useState(false);const handleProfileClick=()=>{setShowProfileMenu(!showProfileMenu);};const handleLogout=()=>{logout();setShowProfileMenu(false);// Force a page reload to ensure all state is cleared\nwindow.location.reload();};const handleSearch=e=>{e.preventDefault();// TODO: Implement search functionality\nconsole.log('Search:',searchQuery);};return/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white shadow-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold cursor-pointer\",onClick:()=>navigate('/marketplace'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-500\",children:\"Tiger\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pop\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-6\",children:authenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 cursor-pointer hover:text-orange-500\",onClick:handleProfileClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600 font-semibold\",children:netid===null||netid===void 0?void 0:netid[0].toUpperCase()})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:netid})]}),showProfileMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"block px-4 py-2 text-gray-700 hover:bg-orange-50\",onClick:()=>setShowProfileMenu(false),children:\"My Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"block w-full text-left px-4 py-2 text-gray-700 hover:bg-orange-50\",children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors\",children:\"Login\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/marketplace?category=men\",className:\"text-gray-600 hover:text-gray-900\",children:\"men\"}),/*#__PURE__*/_jsx(Link,{to:\"/marketplace?category=women\",className:\"text-gray-600 hover:text-gray-900\",children:\"women\"}),/*#__PURE__*/_jsx(Link,{to:\"/marketplace?category=furniture\",className:\"text-gray-600 hover:text-gray-900\",children:\"furniture\"}),/*#__PURE__*/_jsx(Link,{to:\"/marketplace?category=other\",className:\"text-gray-600 hover:text-gray-900\",children:\"other\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-4 py-2 rounded-lg bg-orange-100 bg-opacity-30 focus:outline-none focus:ring-2 focus:ring-orange-300\"})})]})]})})});};export default Navbar;","map":{"version":3,"names":["React","useState","useNavigate","Link","logout","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","authenticated","netid","navigate","searchQuery","setSearchQuery","showProfileMenu","setShowProfileMenu","handleProfileClick","handleLogout","window","location","reload","handleSearch","e","preventDefault","console","log","className","children","onClick","toUpperCase","to","onSubmit","type","placeholder","value","onChange","target"],"sources":["/Users/angel/Documents/Princeton/COS 333/tigerpop.github.io/frontend/src/components/Navbar.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { getNetid, logout } from '../services/authService';\n\ninterface NavbarProps {\n  authenticated: boolean;\n  netid: string | null;\n}\n\nconst Navbar: React.FC<NavbarProps> = ({ authenticated, netid }) => {\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n\n  const handleProfileClick = () => {\n    setShowProfileMenu(!showProfileMenu);\n  };\n\n  const handleLogout = () => {\n    logout();\n    setShowProfileMenu(false);\n    // Force a page reload to ensure all state is cleared\n    window.location.reload();\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    // TODO: Implement search functionality\n    console.log('Search:', searchQuery);\n  };\n\n  return (\n    <nav className=\"bg-white shadow-md\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex flex-col py-4\">\n          {/* Top bar with logo and profile */}\n          <div className=\"flex justify-between items-center mb-4\">\n            <div className=\"flex items-center\">\n              <h1 \n                className=\"text-2xl font-bold cursor-pointer\"\n                onClick={() => navigate('/marketplace')}\n              >\n                <span className=\"text-orange-500\">Tiger</span>\n                <span>Pop</span>\n              </h1>\n            </div>\n            \n            <div className=\"flex items-center space-x-6\">\n              {/* <Link to=\"/listings\" className=\"text-gray-600 hover:text-gray-900\">home</Link>\n              <Link to=\"/listings\" className=\"text-orange-500 hover:text-orange-600\">buy</Link>\n              <Link to=\"/dashboard\" className=\"text-gray-600 hover:text-gray-900\">sell</Link> */}\n              {authenticated ? (\n                <div className=\"relative\">\n                  <div \n                    className=\"flex items-center space-x-2 cursor-pointer hover:text-orange-500\"\n                    onClick={handleProfileClick}\n                  >\n                    <div className=\"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center\">\n                      <span className=\"text-orange-600 font-semibold\">\n                        {netid?.[0].toUpperCase()}\n                      </span>\n                    </div>\n                    <span className=\"text-gray-700\">{netid}</span>\n                  </div>\n                  \n                  {/* Profile Dropdown Menu */}\n                  {showProfileMenu && (\n                    <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50\">\n                      <Link\n                        to=\"/dashboard\"\n                        className=\"block px-4 py-2 text-gray-700 hover:bg-orange-50\"\n                        onClick={() => setShowProfileMenu(false)}\n                      >\n                        My Dashboard\n                      </Link>\n                      <button\n                        onClick={handleLogout}\n                        className=\"block w-full text-left px-4 py-2 text-gray-700 hover:bg-orange-50\"\n                      >\n                        Logout\n                      </button>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <Link\n                  to=\"/login\"\n                  className=\"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors\"\n                >\n                  Login\n                </Link>\n              )}\n            </div>\n          </div>\n\n          {/* Categories and search bar */}\n          <div className=\"flex flex-col space-y-4\">\n            <div className=\"flex space-x-6\">\n              <Link to=\"/marketplace?category=men\" className=\"text-gray-600 hover:text-gray-900\">men</Link>\n              <Link to=\"/marketplace?category=women\" className=\"text-gray-600 hover:text-gray-900\">women</Link>\n              <Link to=\"/marketplace?category=furniture\" className=\"text-gray-600 hover:text-gray-900\">furniture</Link>\n              <Link to=\"/marketplace?category=other\" className=\"text-gray-600 hover:text-gray-900\">other</Link>\n            </div>\n            \n            <form onSubmit={handleSearch} className=\"flex\">\n              <input\n                type=\"text\"\n                placeholder=\"Search\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full px-4 py-2 rounded-lg bg-orange-100 bg-opacity-30 focus:outline-none focus:ring-2 focus:ring-orange-300\"\n              />\n            </form>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}